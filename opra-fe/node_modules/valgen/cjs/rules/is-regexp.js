"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.isRegExp = void 0;
const index_js_1 = require("../core/index.js");
/**
 * Coerces given value to "UUID" format or returns undefined if nullish
 * @validator uuid
 */
function isRegExp(format, options) {
    const regExp = format instanceof RegExp ? format : new RegExp(format);
    const formatName = options?.formatName;
    return (0, index_js_1.validator)('matches', function (input, context, _this) {
        if (input == null)
            return;
        if (typeof input === 'string' && regExp.test(input))
            return input;
        context.fail(_this, `{{label}} does not match ${formatName || 'requested'} format`, input, { format, formatName });
    }, options);
}
exports.isRegExp = isRegExp;
