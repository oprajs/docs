import merge from 'putil-merge';
import { DECORATOR } from '../constants.js';
import { FieldClass } from './field-class.js';
import { FieldDecorator } from './field-decorator.js';
/**
 * @class ApiField
 * @decorator ApiField
 */
export const ApiField = function (...args) {
    // Decorator
    if (!this) {
        const [options] = args;
        return ApiField[DECORATOR](options);
    }
    // Constructor
    const [owner, init] = args;
    merge(this, new FieldClass(owner, init), { descriptor: true });
};
ApiField.prototype = FieldClass.prototype;
Object.assign(ApiField, FieldDecorator);
ApiField[DECORATOR] = FieldDecorator;
