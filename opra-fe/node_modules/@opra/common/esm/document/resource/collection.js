import merge from 'putil-merge';
import { DECORATOR } from '../constants.js';
import { CollectionClass } from './collection-class.js';
import { CollectionDecorator } from './collection-decorator.js';
/**
 * @class Collection
 * @decorator Collection
 */
export const Collection = function (...args) {
    // ClassDecorator
    if (!this) {
        const [type, options] = args;
        return Collection[DECORATOR].call(undefined, type, options);
    }
    // Constructor
    const [parent, init] = args;
    merge(this, new CollectionClass(parent, init), { descriptor: true });
};
Collection.prototype = CollectionClass.prototype;
Object.assign(Collection, CollectionDecorator);
Collection[DECORATOR] = CollectionDecorator;
