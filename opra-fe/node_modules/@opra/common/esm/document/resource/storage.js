import merge from 'putil-merge';
import { DECORATOR } from '../constants.js';
import { StorageClass } from './storage-class.js';
import { StorageDecorator } from './storage-decorator.js';
/**
 * @class Storage
 * @decorator Storage
 */
export const Storage = function (...args) {
    // ClassDecorator
    if (!this) {
        const [options] = args;
        return Storage[DECORATOR].call(undefined, options);
    }
    // Constructor
    const [parent, init] = args;
    merge(this, new StorageClass(parent, init), { descriptor: true });
};
Storage.prototype = StorageClass.prototype;
Object.assign(Storage, StorageDecorator);
Storage[DECORATOR] = StorageDecorator;
