import { OpraSchema } from '../../schema/index.js';
import { createActionDecorator } from './action-decorator.js';
import { createOperationDecorator } from './crud-operation-decorator.js';
import { ResourceDecorator } from './resource-decorator.js';
const operationProperties = ['delete', 'get', 'post'];
export function StorageDecorator(options) {
    return ResourceDecorator(OpraSchema.Storage.Kind, options);
}
Object.assign(StorageDecorator, ResourceDecorator);
/*
 * Action PropertyDecorator
 */
(function (StorageDecorator) {
    /**
     * Action PropertyDecorator
     */
    function Action(options) {
        const list = [];
        return createActionDecorator(options, operationProperties, list);
    }
    StorageDecorator.Action = Action;
    function Delete(options) {
        const list = [];
        return createOperationDecorator('delete', options, list);
    }
    StorageDecorator.Delete = Delete;
    function Get(options) {
        const list = [];
        return createOperationDecorator('get', options, list);
    }
    StorageDecorator.Get = Get;
    function Post(options) {
        const list = [];
        const decorator = createOperationDecorator('post', options, list);
        decorator.MaxFields = (amount) => {
            list.push(operationMeta => operationMeta.options.maxFields = amount);
            return decorator;
        };
        decorator.MaxFieldSize = (amount) => {
            list.push(operationMeta => operationMeta.options.maxFieldsSize = amount);
            return decorator;
        };
        decorator.MaxFiles = (amount) => {
            list.push(operationMeta => operationMeta.options.maxFiles = amount);
            return decorator;
        };
        decorator.MaxFileSize = (sizeInBytes) => {
            list.push(operationMeta => operationMeta.options.maxFileSize = sizeInBytes);
            return decorator;
        };
        decorator.MaxTotalFileSize = (sizeInBytes) => {
            list.push(operationMeta => operationMeta.options.maxTotalFileSize = sizeInBytes);
            return decorator;
        };
        decorator.MinFileSize = (sizeInBytes) => {
            list.push(operationMeta => operationMeta.options.minFileSize = sizeInBytes);
            return decorator;
        };
        decorator.Returns = (t) => {
            list.push(operationMeta => operationMeta.returnType = t);
            return decorator;
        };
        return decorator;
    }
    StorageDecorator.Post = Post;
})(StorageDecorator || (StorageDecorator = {}));
