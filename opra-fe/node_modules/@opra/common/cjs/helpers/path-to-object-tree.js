"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.pathToObjectTree = void 0;
const DOT_PATTERN = /^([^.]+)\.(.*)$/;
function pathToObjectTree(arr, lowerCaseKeys) {
    if (!(arr && arr.length))
        return;
    return _pathToObjectTree(arr, {}, lowerCaseKeys);
}
exports.pathToObjectTree = pathToObjectTree;
function _pathToObjectTree(arr, target, lowerCaseKeys) {
    for (let k of arr) {
        if (lowerCaseKeys)
            k = k.toLowerCase();
        const m = DOT_PATTERN.exec(k);
        if (m) {
            const key = m[1];
            if (target[key] === true)
                continue;
            const sub = target[key] = typeof target[key] === 'object' ? target[key] : {};
            _pathToObjectTree([m[2]], sub);
        }
        else {
            target[k] = true;
        }
    }
    return target;
}
